{% extends "layout.html" %}
{% block content %}
<div class="container-fluid">
    <div class="row">
	<nav class="col-md-2 d-none d-md-block bg-light sidebar">
	    <div class="sidebar-sticky">
		<ul class="nav flex-column sidebar-list">
		    {% for list in lists %}
		    <li class="nav-item">
			<a class="nav-link" href="/{{ list.id }}" style="color: #333;">
			    <span class="mr-2">
				<svg class="bi bi-list-ul" width="1.2em" height="1.2em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
				    <path fill-rule="evenodd" d="M5 11.5a.5.5 0 01.5-.5h9a.5.5 0 010 1h-9a.5.5 0 01-.5-.5zm0-4a.5.5 0 01.5-.5h9a.5.5 0 010 1h-9a.5.5 0 01-.5-.5zm0-4a.5.5 0 01.5-.5h9a.5.5 0 010 1h-9a.5.5 0 01-.5-.5zm-3 1a1 1 0 100-2 1 1 0 000 2zm0 4a1 1 0 100-2 1 1 0 000 2zm0 4a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"/>
				</svg>
			    </span>
			    {{ list.name }}
			</a>
		    </li>
		    {% endfor %}
		    <li class="nav-item">
			<form method='POST' action="{{ url_for('create_list') }}">
			    <div class="input-group" style="padding: .5rem 1rem;">
				<input type="text" class="form-control border-0" placeholder="Create List" aria-label="Create List" name="list" required>
				<div class="input-group-append">
				    <button class="btn btn-secondary border-0" type="submit" name="list">
					<svg class="bi bi-plus" width="1.4em" height="1.4em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
					    <path fill-rule="evenodd" d="M8 3.5a.5.5 0 01.5.5v4a.5.5 0 01-.5.5H4a.5.5 0 010-1h3.5V4a.5.5 0 01.5-.5z" clip-rule="evenodd"/>
					    <path fill-rule="evenodd" d="M7.5 8a.5.5 0 01.5-.5h4a.5.5 0 010 1H8.5V12a.5.5 0 01-1 0V8z" clip-rule="evenodd"/>
					</svg>
				    </button>
				</div>
			    </div>
			</form>
		    </li>
		</ul>
	    </div>
	</nav>
	<main class="col-md-9 ml-sm-auto col-lg-10 pt-3 px-4" role="main">
	    <h5 class="ml-3 font-weight-normal">
		{{ selected_list.name }}
	    </h5>
	    <ul class="list-group list-group-flush">
		{% if selected_list.items %}
		{% for item in selected_list.items %}
		<a class="text-decoration-none" data-toggle="collapse" href="#id{{ item.id}}" aria-expanded="false" aria-controls="id{{ item.id}}" style="color: #333;">
		    <li class="list-group-item">
			<span class="mr-2">
			    {% if item.description %}
			    <svg class="bi bi-chevron-down" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
				<path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"/>
			    </svg>
			    {% else %}
			    <svg class="bi bi-dash" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
				<path fill-rule="evenodd" d="M3.5 8a.5.5 0 01.5-.5h8a.5.5 0 010 1H4a.5.5 0 01-.5-.5z" clip-rule="evenodd"/>
			    </svg>
			    {% endif %}
			</span>
			<span class="pr-2">{{ item.title }}</span>
			<small class="text-muted">{{ item.date_posted.strftime('%Y-%m-%d') }}</small>
			{% if item.description %}
			<div class="collapse" id="id{{ item.id}}">
			    <p>{{ item.description }}</p>
			</div>
			{% endif %}
		    </li>
		</a>
		{% endfor %}
		{% else %}
		<p><em>This list is empty</em></p>
		{% endif %}
	    </ul>
	    <form method='POST'>
		<p class="mt-4 text-center">
		    <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#createItemCard" aria-expanded="false" aria-controls="createItemCard">
			<svg class="bi bi-file-plus" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
			    <path d="M9 1H4a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V8h-1v5a1 1 0 01-1 1H4a1 1 0 01-1-1V3a1 1 0 011-1h5V1z"/>
			    <path fill-rule="evenodd" d="M13.5 1a.5.5 0 01.5.5v2a.5.5 0 01-.5.5h-2a.5.5 0 010-1H13V1.5a.5.5 0 01.5-.5z" clip-rule="evenodd"/>
			    <path fill-rule="evenodd" d="M13 3.5a.5.5 0 01.5-.5h2a.5.5 0 010 1H14v1.5a.5.5 0 01-1 0v-2z" clip-rule="evenodd"/>
			</svg>
			<span class="ml-2">New List Item</span>
		    </button>
		</p>
		<div class="collapse" id="createItemCard">
		    <div class="card card-body mx-auto" style="width: 60%;">
			<div class="form-group">
			    <label for="title">Title</label>
			    <input type="text" class="form-control" placeholder="Enter title" name="title" id="title" required>
			</div>
			<div class="form-group">
			    <label for="description">Description</label>
			    <textarea class="form-control" placeholder="Enter description" name="description" id="description" rows="2"></textarea>
			    <small class="form-text text-muted">Description is optional</small>
			</div>
			<button class="btn btn-primary" type="submit">
			    <span class="pl-1">Create Item</span>
			</button>
		    </div>
		</div>
	    </form>
	</main>
    </div>
</div>
{% endblock %}
